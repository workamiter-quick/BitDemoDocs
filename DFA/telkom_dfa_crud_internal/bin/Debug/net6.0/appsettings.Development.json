{
  "ConnectionStrings": {
    "EmployeeAppCon": "Data Source=DWJHBGIS007;Initial Catalog=UserDB;User Id=sa;password=java",

    ///////Dev Environment    
    "PostgressSpatialCon": "Server=10.1.15.113;Port=5432;Database=MDB;User Id=postgres;Password=Mdb@2023$;CommandTimeout=200;"

  },
  "TopFeatureCount": "10",
  "WardQueryForLM": "select count(*) as numward from wards_2021 a where ST_Intersects(ST_Centroid(a.geom), (select geom from provinces_2018 where prov_code = '{0}'))",
  //"WardSizeQueryForLM": "SELECT COALESCE(sum(wards), 0) as numward FROM wc_wardsize_2019 where prov_code = '{0}'",
  "WardSizeQueryForLM": "SELECT COALESCE(sum(wards), 0) as numward FROM wardconfiguration where prov_code = '{0}' and year = {1}",
  "LMGeometry": "select cat_b, sum(regpop) as normvalue  from votingdistricts  where prov_code = '{0}' group by cat_b ",
  "LMSizeValueQuery": "select id, cat_b, wards, norm, wards * norm_min as norm_min, wards * norm_max as norm_max, wards * variance as variance FROM wardconfiguration where prov_code = '{0}' and year = {1}",
  "LMGridQuery": "select a.cat_b, c.wardcount, a.normvalue, b.local_metro_district_councilname as municcaption, b.wards, b.norm, b.norm_min, b.norm_max, b.variance, case when c.wardcount = b.wards then 'Compliant' else 'Non-compliant' end as wardcount, case when CAST(a.normvalue AS INTEGER) > CAST(b.norm_min AS INTEGER) and CAST(a.normvalue AS INTEGER) < CAST(b.norm_max AS INTEGER) then 'Compliant' else 'Non-compliant' end as withinnorm, case when c.wardcount = b.wards then '' else 'Ward count is not matching' end as summary from (select cat_b, sum(regpop) as normvalue  from votingdistricts  where prov_code = '{0}' group by cat_b) as a inner join  (select id, cat_b, local_metro_district_councilname, wards, norm, wards * norm_min as norm_min, wards * norm_max as norm_max, wards * variance as variance FROM wardconfiguration where prov_code = '{0}' and year = {1}) as b on a.cat_b = b.cat_b inner join (select cat_b,  count(distinct(wardid)) as wardcount  from votingdistricts group by cat_b) as c on a.cat_b = c.cat_b",

  "WardQuery": "select count(*) as numward from wards_2021 a where ST_Intersects(ST_Centroid(a.geom), (select geom from localmunicipalities_2018 where cat_b = '{0}'))",
  //"WardSizeQuery": "SELECT wards as numward FROM wc_wardsize_2019 where cat_b = '{0}'",
  "WardSizeQuery": "SELECT wards as numward FROM wardconfiguration where cat_b = '{0}' and year = {1}",
  "WardGeometry": "select wardid, sum(regpop) as normvalue  from votingdistricts  where cat_b = '{0}' group by wardid",
  "WardSizeValueQuery": "select id, wards, norm, norm_min, norm_max, variance FROM wardconfiguration where cat_b = '{0}' and year = {1}",
  "WardGridQuery": "select a.cat_b, a.wardid, a.normvalue, b.wards, b.norm, b.norm_min, b.norm_max, b.variance, case when CAST(a.normvalue AS INTEGER) > CAST(b.norm_min AS INTEGER) and CAST(a.normvalue AS INTEGER) < CAST(b.norm_max AS INTEGER) then 'Compliant' else 'Non-compliant' end as withinnorm from (select cat_b, wardid, sum(regpop) as normvalue  from votingdistricts  where cat_b = '{0}' group by wardid, cat_b) as a inner join (select id, cat_b, wards, norm, norm_min, norm_max, variance FROM wardconfiguration where cat_b = '{0}' and year = {1}) as b on a.cat_b = b.cat_b",

  //"VDGeometry": "select vdnumber as id, regpop as normvalue  from votingdistricts  where wardid = '{0}'",
  "VDGeometry": "select objectid as id, vdnumber as vdnumber, regpop as normvalue, wardid  from votingdistricts where cat_b = (SELECT distinct cat_b FROM votingdistricts  where wardid = '{0}')  order by objectid",
  "VDGrid": "select vdnumber as id, regpop as normvalue, votingstat from votingdistricts where wardid = '{0}'",
  "VDDataUpdate": "select vdnumber as id, regpop as normvalue, votingstat from votingdistricts where wardid = '{0}'",

  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AllowedHosts": "*",

  ///////Dev Environment
  "SettingJavaApi_Internal": "UserName=Terratest9|Password=Test@2021!|TokenURL=http://165.232.179.89:8089/oauth/token|APIURL=http://165.232.179.89:8089/api/v1/|WorkFlowURL=http://165.232.179.89:8090/",
  "SettingJavaApi_External": "UserName=user1@a.com|Password=Test@123|TokenURL=http://165.232.179.89:8088/oauth/token|APIURL=http://165.232.179.89:8089/api/v1/|WorkFlowURL=http://165.232.179.89:8090/"

}
